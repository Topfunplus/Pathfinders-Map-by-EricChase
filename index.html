<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pathfinders Interactive Map</title>


    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./map.css" />



  <script src="./map.js" type="module"></script>



<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>



  </head>
  <body>
    <div id="body-flex-column">
      <h1>Pathfinders Interactive Map</h1>
      <!-- Horizontal Ruler -->
      <div id="h-ruler-container"><img id="h-ruler" src="./coord-top.jpg" /></div>
      <!-- Div for the map -->
      <div id="map-container">
        <!-- Vertical Ruler -->
        <div id="v-ruler-container"><img id="v-ruler" src="./coord-left.jpg" /></div>
        <div id="map"></div>
      </div>
    </div>
    <div id="legend">
      <h3>Map Legend</h3>
      <ul>
        <!-- Friendly Territory -->
        <li>
          <span class="legend-item" style="background-color: blue; opacity: 0.3"></span>
          Friendly Territory
        </li>

        <!-- Unconfirmed Territory -->
        <li>
          <span class="legend-item" style="background-color: grey; opacity: 0.3"></span>
          Unconfirmed Territory
        </li>

        <!-- Hostile Territory -->
        <li>
          <span class="legend-item" style="background-color: red; opacity: 0.3"></span>
          Hostile Territory
        </li>

        <!-- Objectives -->
        <li>
          <span class="legend-item rounded" style="background-color: blue"></span>
          Objective
        </li>
        <li>
          <span class="legend-item rounded" style="background-color: orange"></span>
          Objective
        </li>
        <li>
          <span class="legend-item rounded" style="background-color: red"></span>
          Objective
        </li>

        <!-- Patrol Routes -->
        <li>
          <span class="legend-line" style="background-color: blue"></span>
          Combat Patrol Route
        </li>
        <li>
          <span class="legend-line" style="background-color: orange"></span>
          Stealth Patrol Route
        </li>
        <li>
          <span class="legend-line" style="background-color: red"></span>
          Enemy Patrol Route
        </li>
      </ul>
    </div>

    <script>
      // Initialize Leaflet Map
      const map = L.map('map', {
        crs: L.CRS.Simple,
        zoomControl: false, // Disable zoom control
      });

      const bounds = [
        [0, 0],
        [8000, 8000],
      ];

      map.scrollWheelZoom.disable();
      map.touchZoom.disable();
      map.doubleClickZoom.disable();
      map.boxZoom.disable();
      map.dragging.disable();

      map.setView([0, 0], 1);

      L.imageOverlay('./everon-map.jpg', bounds).addTo(map);
      map.fitBounds(bounds);
      map.setMaxBounds(bounds);
</script>
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// MARKERS ////////////////////////////////////////////////////////
<script>


var marker = L.marker([6460, 6530]).addTo(map);

// Set the z-index for the marker to bring it forward
marker.setZIndexOffset(10000);

// Bind the popup with a custom z-index
marker.bindPopup("<b>FOB</b><br>Pathfinders.", {
    autoClose: false, // Optional: Prevent the popup from closing when clicking outside
    closeOnClick: false, // Optional: Prevent closing when clicking on the map
    className: 'custom-popup' // Optional: You can add a custom CSS class
});

// Add event listener to toggle the popup on click
marker.on('click', function() {
    marker.togglePopup();  // Toggle the popup visibility when clicked
});

// Optionally, set a z-index for the popup after binding
marker.on('popupopen', function() {
    var popup = marker.getPopup();
    popup._container.style.zIndex = 10001;  // Adjust the z-index for the popup
});








     






</script>
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// MARKERS ////////////////////////////////////////////////////////
     
  </body>
</html>
